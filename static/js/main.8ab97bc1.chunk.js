(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{110:function(e,t,n){e.exports=n(151)},115:function(e,t,n){},116:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),c=n(9),i=n.n(c),s=(n(115),n(94)),l=n(72),u=n(15),d=n(12),m=(n(116),n(117),n(71)),h=n(13);!function(e){e[e.notAccented=0]="notAccented",e[e.accented=1]="accented"}(a||(a={}));var f,p=a;!function(e){e[e.snare=0]="snare",e[e.kick=1]="kick",e[e.rest=2]="rest",e[e.none=3]="none"}(f||(f={}));var v,g=f;!function(e){e[e.None=0]="None",e[e.Right=1]="Right",e[e.Left=2]="Left"}(v||(v={}));var b,E=v;!function(e){e[e.none=0]="none",e[e.sixteenth=1]="sixteenth",e[e.eighth=2]="eighth",e[e.dottedEighth=3]="dottedEighth",e[e.quarter=4]="quarter",e[e.dottedQuarter=5]="dottedQuarter",e[e.half=6]="half"}(b||(b={}));var k,y=b,C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.rest,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.sixteenth,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.None,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.notAccented,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(h.a)(this,e),this.sticking=void 0,this.accent=void 0,this.noteType=void 0,this.duration=void 0,this.placedByUser=void 0,this.noteType=t,this.sticking=a,this.accent=o,this.duration=n,this.placedByUser=r},w=function e(t){Object(h.a)(this,e),this.notes=void 0,this.notes=[];var n=y.sixteenth;switch(t){case 16:n=y.sixteenth;break;case 8:n=y.eighth;break;case 4:n=y.quarter;break;case 2:n=y.half;break;default:throw new Error("Unsupported subdivision")}for(var a=0;a<t;a++)this.notes.push(new C(g.none,n))},N=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;if(Object(h.a)(this,e),this.sheetMusic=void 0,this.measures=void 0,this.bpm=void 0,this.sheetMusic=t,this.measures=n,this.bpm=a,!n||0===n.length){for(var o=new w(16),r=0;r<16;r++)o.notes[r].noteType=g.snare;n.push(o)}},x=n(38),S=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"getRandomCollectionWithConstraint",value:function(e,t,n){for(var a=[];!n(a);){var o=A(e);t([].concat(a,[o]))&&a.push(o)}return a}},{key:"addRandomPropertyToRandomCollection",value:function(e,t,n,a){var o=[];return e.forEach((function(e){for(var r=!1;!r;){var c=A(t),i=a(e,c);n([].concat(o,[i]))&&(o.push(i),r=!0)}})),o}},{key:"shuffleArray",value:function(e,t){for(var n=e.length-1;n>0;n--)if(!t(e[n])){var a=Math.floor(Math.random()*(n+1));if(!t(e[a])){var o=[e[a],e[n]];e[n]=o[0],e[a]=o[1]}}}},{key:"randomNumberInRange",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}]),e}(),A=function(e){return e[Math.floor(Math.random()*e.length)]},j=S;!function(e){e[e.one=0]="one",e[e.oneE=1]="oneE",e[e.oneAnd=2]="oneAnd",e[e.oneA=3]="oneA",e[e.two=4]="two",e[e.twoE=5]="twoE",e[e.twoAnd=6]="twoAnd",e[e.twoA=7]="twoA",e[e.three=8]="three",e[e.threeE=9]="threeE",e[e.threeAnd=10]="threeAnd",e[e.threeA=11]="threeA",e[e.four=12]="four",e[e.fourE=13]="fourE",e[e.fourAnd=14]="fourAnd",e[e.fourA=15]="fourA"}(k||(k={}));var O=k,T=function e(){Object(h.a)(this,e)};T.configIsValid=function(e,t){var n=T.notePlacementsAreValid(e,t),a=T.maxConsecutiveNotesAreValid(e,t),o=T.noteCountsAreValid(e,t),r=T.notePlacementsDoNotExceedNoteCounts(e,t);return n&&a&&o&&r},T.noteCountsAreValid=function(e,t){var n=e.subdivision,a=!0,o=e.snareNoteCountEnabled?e.snareNoteCount:-1,r=e.kickNoteCountEnabled?e.kickNoteCount:-1,c=e.restNoteCountEnabled?e.restNoteCount:-1,i=e.accentNoteCountEnabled?e.accentNoteCount:-1;return-1===o&&-1===r&&-1===c&&-1===i&&(a=!0),0===o&&0===c&&0===r&&(t.push("All Note Counts set to zero. "),a=!1),(o>n||r>n||i>n||c>n)&&(t.push("One of your exact note counts is higher than your subdivision. "),a=!1),o>=0&&r>=0&&c>=0&&o+r+c!==n&&(t.push("You have all note types specified but they do not add up to your subdivision. "),a=!1),i>o&&-1!==o&&(t.push("You have more accents specified than snares, not all notes can be accented. "),a=!1),o+r+c>n&&(t.push("You have more notes specified than allowed in a measure per the subdivision. "),a=!1),a},T.maxConsecutiveNotesAreValid=function(e,t){var n=!0,a=e.maxConsecutiveSnares,o=e.maxConsecutiveKicks,r=e.maxConsecutiveAccents,c=e.maxConsecutiveRests,i=e.maxConsecutiveLeftHandStickings,s=e.maxConsecutiveRightHandStickings;return e.snareNoteCountEnabled&&Math.floor(e.maxConsecutiveSnares/(e.maxConsecutiveSnares+1)*16)+1<e.snareNoteCount&&(t.push("Impossible arrangement. Need either more consecutive snares allowed or fewer snare notes"),n=!1),e.kickNoteCountEnabled&&Math.floor(e.maxConsecutiveKicks/(e.maxConsecutiveKicks+1)*16)+1<e.kickNoteCount&&(t.push("Impossible arrangement. Need either more consecutive kicks allowed or fewer kick notes"),n=!1),e.restNoteCountEnabled&&Math.floor(e.maxConsecutiveRests/(e.maxConsecutiveRests+1)*16)+1<e.restNoteCount&&(t.push("Impossible arrangement. Need either more consecutive snares allowed or fewer snare notes"),n=!1),0!==a&&0!==o&&0!==r&&0!==c&&0!==i&&0!==s||(t.push("You cannot set maxConsecutive to 0. Use Note Count toggle to turn off a note type. "),n=!1),n},T.notePlacementsAreValid=function(e,t){var n=e.mandatorySnarePlacements,a=e.mandatoryKickPlacements,o=e.mandatoryAccentPlacements,r=e.mandatoryRestPlacements,c=e.subdivision,i=!0;(n.length>c||a.length>c||o.length>c||r.length>c)&&(t.push("One of your mandatory notes placed is bigger than your subdivision allows. "),i=!1),n.length+a.length+r.length>c&&(t.push("You have more mandatory notes placed than your subdivision allows. "),i=!1);var s=new Set(n).size!==n.length,l=new Set(a).size!==a.length,u=new Set(o).size!==o.length,d=new Set(r).size!==r.length;(s||l||u||d)&&(t.push("One of your mandatory note placements has duplicates. "),i=!1);var m=n.filter((function(e){return a.includes(e)})),h=n.filter((function(e){return r.includes(e)})),f=a.filter((function(e){return n.includes(e)})),p=a.filter((function(e){return r.includes(e)})),v=r.filter((function(e){return n.includes(e)})),g=r.filter((function(e){return a.includes(e)}));return 0===m.length&&0===h.length&&0===f.length&&0===p.length&&0===v.length&&0===g.length||(t.push("Two note types have the same placement. "),i=!1),i},T.notePlacementsDoNotExceedNoteCounts=function(e,t){var n=e.mandatorySnarePlacements,a=e.mandatoryKickPlacements,o=e.mandatoryAccentPlacements,r=e.mandatoryRestPlacements,c=e.snareNoteCount,i=e.kickNoteCount,s=e.restNoteCount,l=e.accentNoteCount,u=n.length<=c||!e.snareNoteCountEnabled,d=a.length<=i||!e.kickNoteCountEnabled,m=o.length<=l||!e.accentNoteCountEnabled,h=r.length<=s||!e.restNoteCountEnabled;return!!(u&&d&&h&&m)||(t.push("If you have exact note count turned on, it must be higher than the number of exact placements you specify. "),!1)};var P,R=T;!function(e){e[e.none=0]="none",e[e.naturalSticking=1]="naturalSticking",e[e.alternating=2]="alternating",e[e.random=3]="random"}(P||(P={}));var I=P,H=function e(){Object(h.a)(this,e)};H.generateNewSheetMusic=function(e){try{var t=M(e.header),n=Y(e);if(Array.isArray(n))return n;L(n,e),D(n,e);var a=K(n);return{abcjsString:"".concat(t).concat(a),measures:[n]}}catch(o){return o.message}};var M=function(e){return"X:1\nT:".concat(e.title,"\nM:").concat(e.meter,"\nC:").concat(e.composer,"\nK:").concat(e.key,"\nL:").concat(e.translateLengthToFractionString(),"\n")},K=function(e){var t="";return e.notes.forEach((function(e,n){var a=n%4===0?" ":"";e.sticking===E.Left&&(a+='"L"'),e.sticking===E.Right&&(a+='"R"'),e.accent===p.accented&&(a+="!>!"),e.noteType===g.snare&&(a+="c"),e.noteType===g.kick&&(a+="f,"),e.noteType===g.rest&&(a+="z"),t+=a})),"|:".concat(t,":|")},L=function(e,t){switch(t.stickingStyle){case I.none:break;case I.alternating:var n=E.Left;e.notes.forEach((function(e){e.noteType===g.snare?(n===E.Right?e.sticking=E.Left:e.sticking=E.Right,n=n===E.Right?E.Left:E.Right):n=E.Left}));break;case I.naturalSticking:e.notes.forEach((function(e,t){e.noteType===g.snare&&(e.sticking=t%2===0?E.Right:E.Left)}));break;case I.random:e.notes.forEach((function(n){if(n.noteType===g.snare){var a=j.randomNumberInRange(1,2);n.sticking=a;var o=q(e,t.maxConsecutiveRightHandStickings,(function(e){return e.sticking===E.Right})),r=q(e,t.maxConsecutiveLeftHandStickings,(function(e){return e.sticking===E.Left}));o&&r||(n.sticking=a===E.Right?E.Left:E.Right)}}))}return e},D=function(e,t){if(t.mandatoryAccentPlacements.forEach((function(t){var n=e.notes[W(t)];n.noteType===g.snare&&(n.accent=p.accented)})),0===t.accentNoteCount)return e;var n=t.accentNoteCount-t.mandatoryAccentPlacements.length,a=e.notes.filter((function(e){return e.noteType===g.snare}));return n=n>a.length?a.length:n,t.accentNoteCountEnabled&&U(e,t,null,p.accented,null,z,n),e},B=function(e,t){var n=e.notes.find((function(e){return e.noteType===g.none}));if(!n)throw Error("No Unset Notes. Generation failure! Please reload the page!");return n},z=function(e,t){for(var n=[];n.length<e.notes.length;){var a=j.randomNumberInRange(0,e.notes.length-1),o=e.notes[a];if(!n.includes(o))if(o.noteType!==g.rest&&o.noteType!==g.kick&&o.noteType!==g.none&&o.accent!==p.accented){if(o.accent=p.accented,q(e,t.maxConsecutiveAccents,(function(e){return e.accent===p.accented})))return o;o.accent=p.notAccented,n.push(o)}else n.push(o)}throw Error("No place to put your accent. Generation failure! Please reload the page!")},F=function(e){return e.placedByUser},Y=function(e){var t=[];if(!R.configIsValid(e,t))return t;var n=new w(e.subdivision);V(n,g.snare,e.mandatorySnarePlacements),V(n,g.kick,e.mandatoryKickPlacements),V(n,g.rest,e.mandatoryRestPlacements);var a=0;e.snareNoteCountEnabled&&(a=e.snareNoteCount-e.mandatorySnarePlacements.length,U(n,e,g.snare,null,null,B,a)),e.kickNoteCountEnabled&&(a=e.kickNoteCount-e.mandatoryKickPlacements.length,U(n,e,g.kick,null,null,B,a)),e.restNoteCountEnabled&&(a=e.restNoteCount-e.mandatoryRestPlacements.length,U(n,e,g.rest,null,null,B,a));for(var o=!0,r=0;o||r>=1e3;)j.shuffleArray(n.notes,F),q(n,e.maxConsecutiveSnares,(function(e){return e.noteType===g.snare}))&&q(n,e.maxConsecutiveKicks,(function(e){return e.noteType===g.kick}))&&q(n,e.maxConsecutiveRests,(function(e){return e.noteType===g.rest}))&&(o=!1),r+=1;if(r>=1e3)throw Error("Could not find a suitable arrangement in 1000 attempts. Generation Failure. Please reload the page!");return n.notes.filter((function(e){return e.noteType===g.none})).forEach((function(t){for(var a=[],o=!1,r=function(){if(3===a.length)throw new Error("No where to place note. Generation failure! Please reload the page!");var r=j.randomNumberInRange(0,2),c=0===r?g.snare:1===r?g.kick:g.rest;if(!a.includes(c)){t.noteType=c;var i=0;switch(c){case g.snare:if(e.snareNoteCountEnabled)return t.noteType=g.none,a.push(c),"continue";i=e.maxConsecutiveSnares;break;case g.kick:if(e.kickNoteCountEnabled)return t.noteType=g.none,a.push(c),"continue";i=e.maxConsecutiveKicks;break;case g.rest:if(e.restNoteCountEnabled)return t.noteType=g.none,a.push(c),"continue";i=e.maxConsecutiveRests}q(n,i,(function(e){return e.noteType===c}))?o=!0:(t.noteType=g.none,a.push(c))}};!o;)r()})),n},V=function(e,t,n){n.forEach((function(n){var a=W(n),o=e.notes[a];o.placedByUser=!0,o.noteType=t}))},U=function(e,t,n,a,o,r,c){for(var i=0;i<c;i++){var s=r(e,t);s.noteType=null==n?s.noteType:n,s.accent=null==a?s.accent:a,s.sticking=null==o?s.sticking:o}},W=function(e){switch(e){case O.one:return 0;case O.oneE:return 1;case O.oneAnd:return 2;case O.oneA:return 3;case O.two:return 4;case O.twoE:return 5;case O.twoAnd:return 6;case O.twoA:return 7;case O.three:return 8;case O.threeE:return 9;case O.threeAnd:return 10;case O.threeA:return 11;case O.four:return 12;case O.fourE:return 13;case O.fourAnd:return 14;case O.fourA:return 15}},q=function(e,t,n){var a=0,o=!0;return e.notes.forEach((function(e){n(e)?a+=1:a=0,a>t&&(o=!1)})),o},G=H,J=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:16,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,m=arguments.length>11&&void 0!==arguments[11]&&arguments[11],f=arguments.length>12&&void 0!==arguments[12]&&arguments[12],p=arguments.length>13&&void 0!==arguments[13]&&arguments[13],v=arguments.length>14&&void 0!==arguments[14]&&arguments[14],g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],b=arguments.length>16&&void 0!==arguments[16]?arguments[16]:[],E=arguments.length>17&&void 0!==arguments[17]?arguments[17]:[],k=arguments.length>18&&void 0!==arguments[18]?arguments[18]:[],y=arguments.length>19&&void 0!==arguments[19]?arguments[19]:I.none;Object(h.a)(this,e),this.maxConsecutiveKicks=void 0,this.maxConsecutiveAccents=void 0,this.maxConsecutiveSnares=void 0,this.maxConsecutiveRests=void 0,this.maxConsecutiveLeftHandStickings=void 0,this.maxConsecutiveRightHandStickings=void 0,this.kickNoteCount=void 0,this.snareNoteCount=void 0,this.accentNoteCount=void 0,this.restNoteCount=void 0,this.kickNoteCountEnabled=void 0,this.snareNoteCountEnabled=void 0,this.accentNoteCountEnabled=void 0,this.restNoteCountEnabled=void 0,this.mandatoryKickPlacements=void 0,this.mandatorySnarePlacements=void 0,this.mandatoryAccentPlacements=void 0,this.mandatoryRestPlacements=void 0,this.stickingStyle=void 0,this.subdivision=void 0,this.header=void 0,this.header=t,this.maxConsecutiveKicks=n,this.maxConsecutiveAccents=a,this.maxConsecutiveSnares=o,this.maxConsecutiveRests=r,this.maxConsecutiveLeftHandStickings=c,this.maxConsecutiveRightHandStickings=i,this.kickNoteCount=s,this.snareNoteCount=l,this.accentNoteCount=u,this.restNoteCount=d,this.kickNoteCountEnabled=m,this.snareNoteCountEnabled=f,this.accentNoteCountEnabled=p,this.restNoteCountEnabled=v,this.mandatoryKickPlacements=g,this.mandatorySnarePlacements=b,this.mandatoryAccentPlacements=E,this.mandatoryRestPlacements=k,this.stickingStyle=y,this.subdivision=this.header.translateLengthToInt()},Q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"4/4",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"C",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:y.sixteenth;Object(h.a)(this,e),this.title=void 0,this.meter=void 0,this.composer=void 0,this.key=void 0,this.length=void 0,this.title=t,this.meter=n,this.composer=a,this.key=o,this.length=r}return Object(x.a)(e,[{key:"translateLengthToInt",value:function(){switch(this.length){case y.sixteenth:return 16;default:throw Error("Unsupported subdivision")}}},{key:"translateLengthToFractionString",value:function(){switch(this.length){case y.sixteenth:return"1/16";default:throw Error("Unsupported subdivision")}}}]),e}(),X=n(181),$=n(183),Z=n(184),_=n(185),ee=n(186),te=n(197),ne=n(205),ae=n(190),oe=n(201),re=n(153),ce=n(179),ie=n(203),se=n(199);function le(e){var t=e.config,n=e.setConfig,a=e.selection,o=e.setSelection,c=e.mode,i=e.description,s=e.title,l=r.a.useState((function(){var e=50+k(),t=50+k();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}})),m=Object(d.a)(l,1)[0],h=r.a.useState(!1),f=Object(d.a)(h,2),p=f[0],v=f[1],g=function(e,t,n){switch(e){case"snare":return"consecutive"===t?n.maxConsecutiveSnares:n.snareNoteCount;case"kick":return"consecutive"===t?n.maxConsecutiveKicks:n.kickNoteCount;case"rests":return"consecutive"===t?n.maxConsecutiveRests:n.restNoteCount;case"accents":return"consecutive"===t?n.maxConsecutiveAccents:n.accentNoteCount;case"right":return n.maxConsecutiveRightHandStickings;case"left":return n.maxConsecutiveLeftHandStickings;default:return"consecutive"===t?16:0}}(a,c,t),b=!1;switch(a){case"snare":b=t.snareNoteCountEnabled;break;case"kick":b=t.kickNoteCountEnabled;break;case"accents":b=t.accentNoteCountEnabled;break;case"rests":b=t.restNoteCountEnabled}var E=Object(ce.a)((function(e){return Object(ie.a)({root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},formControl:{margin:e.spacing(1),minWidth:120},cardRoot:{display:"flex",marginTop:"50px",justifyContent:"center",flexDirection:"column"},paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},input:{width:42,height:42}})}))();function k(){return Math.round(20*Math.random())-10}return r.a.createElement("div",null,r.a.createElement(X.a,{className:E.cardRoot},r.a.createElement($.a,{title:s}),r.a.createElement(Z.a,null,r.a.createElement(_.a,{className:E.formControl},r.a.createElement(ee.a,{id:"demo-simple-select-label"},"Hit Type"),r.a.createElement(te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,onChange:function(e){o(e.target.value)}},r.a.createElement(ne.a,{value:"snare"},"Snare"),r.a.createElement(ne.a,{value:"kick"},"Kick"),r.a.createElement(ne.a,{value:"rests"},"Rests"),r.a.createElement(ne.a,{value:"accents"},"Accents"),"consecutive"===c&&r.a.createElement(ne.a,{value:"right"},"Right Hand Sticking"),"consecutive"===c&&r.a.createElement(ne.a,{value:"left"},"Left Hand Sticking")),"consecutive"!==c&&r.a.createElement(ae.a,{label:"Enable",control:r.a.createElement(oe.a,{checked:b,onChange:function(e){switch(a){case"snare":t.snareNoteCountEnabled=e.target.checked;break;case"kick":t.kickNoteCountEnabled=e.target.checked;break;case"accents":t.accentNoteCountEnabled=e.target.checked;break;case"rests":t.restNoteCountEnabled=e.target.checked}var o=Object(u.a)(Object(u.a)({},t),{},{header:t.header});n(o)},name:"enable"})})),r.a.createElement(_.a,{component:"fieldset"},"consecutive"===c&&r.a.createElement(re.a,{component:"legend"},"Maximum Number of Consecutive Notes Allowed"),"consecutive"!==c&&r.a.createElement(re.a,{component:"legend"},"Exact Number of Notes Allowed"),r.a.createElement(te.a,{labelId:"hit-select",id:"hit-select",value:g,onChange:function(e){!function(e){!function(e,t,n,a){switch(t){case"snare":"consecutive"===n?a.maxConsecutiveSnares=e:a.snareNoteCount=e;break;case"kick":"consecutive"===n?a.maxConsecutiveKicks=e:a.kickNoteCount=e;break;case"rests":"consecutive"===n?a.maxConsecutiveRests=e:a.restNoteCount=e;break;case"accents":"consecutive"===n?a.maxConsecutiveAccents=e:a.accentNoteCount=e;break;case"right":a.maxConsecutiveRightHandStickings=e;break;case"left":a.maxConsecutiveLeftHandStickings=e}}(e.target.value,a,c,t);var o=Object(u.a)(Object(u.a)({},t),{},{header:t.header});n(o)}(e)}},r.a.createElement(ne.a,{value:1},"1"),r.a.createElement(ne.a,{value:2},"2"),r.a.createElement(ne.a,{value:3},"3"),r.a.createElement(ne.a,{value:4},"4"),r.a.createElement(ne.a,{value:5},"5"),r.a.createElement(ne.a,{value:6},"6"),r.a.createElement(ne.a,{value:7},"7"),r.a.createElement(ne.a,{value:8},"8"),r.a.createElement(ne.a,{value:9},"9"),r.a.createElement(ne.a,{value:10},"10"),r.a.createElement(ne.a,{value:11},"11"),r.a.createElement(ne.a,{value:12},"12"),r.a.createElement(ne.a,{value:13},"13"),r.a.createElement(ne.a,{value:14},"14"),r.a.createElement(ne.a,{value:15},"15"),r.a.createElement(ne.a,{value:16},"16"))))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){v(!0)}},"Help"),r.a.createElement(se.a,{open:p,onClose:function(e){v(!1)}},r.a.createElement("div",{style:m,className:E.paper},r.a.createElement("h2",null,"consecutive"===c?"Maximum Consecutive Hit Description":"Exact Note Number Description"),r.a.createElement("p",null,i)))))}var ue=n(196),de=n(50),me=n(206),he=n(193),fe=n(202),pe=n(194),ve=n(198),ge=n(195),be=n(192),Ee=n(191);function ke(e){var t=e.selection,n=e.setSelection,a=e.config,o=e.setConfig,c=e.description,i=e.help,s=e.title,l=r.a.useState(!1),m=Object(d.a)(l,2),h=m[0],f=m[1],p=r.a.useState((function(){var e=50+k(),t=50+k();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}})),v=Object(d.a)(p,1)[0],g=function(e,t,n){switch(e){case"snare":return null!=n.mandatorySnarePlacements.find((function(e){return e===t}));case"kick":return null!=n.mandatoryKickPlacements.find((function(e){return e===t}));case"rests":return null!=n.mandatoryRestPlacements.find((function(e){return e===t}));case"accents":return null!=n.mandatoryAccentPlacements.find((function(e){return e===t}))}return!1},b=Object(ce.a)((function(e){return Object(ie.a)({root:{display:"flex",marginTop:"50px",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},formControl:{margin:e.spacing(1),minWidth:120},cardRoot:{display:"flex",marginTop:"50px",justifyContent:"center",flexDirection:"column"},paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}})}))(),E=function(e){var n=parseInt(O[e.target.name]);e.target.checked?function(e,t,n){switch(t){case"snare":n.mandatorySnarePlacements.includes(e)||n.mandatorySnarePlacements.push(e);break;case"kick":n.mandatoryKickPlacements.includes(e)||n.mandatoryKickPlacements.push(e);break;case"rests":n.mandatoryRestPlacements.includes(e)||n.mandatoryRestPlacements.push(e);break;case"accents":n.mandatoryAccentPlacements.includes(e)||n.mandatoryAccentPlacements.push(e)}}(n,t,a):function(e,t,n){var a=0;switch(t){case"snare":a=n.mandatorySnarePlacements.findIndex((function(t){return t===e})),n.mandatorySnarePlacements.splice(a,1);break;case"kick":a=n.mandatoryKickPlacements.findIndex((function(t){return t===e})),n.mandatoryKickPlacements.splice(a,1);break;case"rests":a=n.mandatoryRestPlacements.findIndex((function(t){return t===e})),n.mandatoryRestPlacements.splice(a,1);break;case"accents":a=n.mandatoryAccentPlacements.findIndex((function(t){return t===e})),n.mandatoryAccentPlacements.splice(a,1)}}(n,t,a);var r=Object(u.a)(Object(u.a)({},a),{},{header:a.header});o(r)};function k(){return Math.round(20*Math.random())-10}return r.a.createElement("div",null,r.a.createElement(X.a,{className:b.cardRoot},r.a.createElement($.a,{title:s}),r.a.createElement(Z.a,null,r.a.createElement(_.a,{className:b.formControl},r.a.createElement(ee.a,{id:"demo-simple-select-label"},"Hit Type"),r.a.createElement(te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,onChange:function(e){n(e.target.value)}},r.a.createElement(ne.a,{value:"snare"},"Snare"),r.a.createElement(ne.a,{value:"kick"},"Kick"),r.a.createElement(ne.a,{value:"rests"},"Rests"),r.a.createElement(ne.a,{value:"accents"},"Accents"))),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(re.a,{component:"legend"}),r.a.createElement(Ee.a,null,r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.one,a),onChange:E,name:"one"}),label:"1"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.oneE,a),onChange:E,name:"oneE"}),label:"1E"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.oneAnd,a),onChange:E,name:"oneAnd"}),label:"1&"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.oneA,a),onChange:E,name:"oneA"}),label:"1A"}))),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(re.a,{component:"legend"}),r.a.createElement(Ee.a,null,r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.two,a),onChange:E,name:"two"}),label:"2"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.twoE,a),onChange:E,name:"twoE"}),label:"2E"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.twoAnd,a),onChange:E,name:"twoAnd"}),label:"2&"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.twoA,a),onChange:E,name:"twoA"}),label:"2A"}))),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(re.a,{component:"legend"}),r.a.createElement(Ee.a,null,r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.three,a),onChange:E,name:"three"}),label:"3"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.threeE,a),onChange:E,name:"threeE"}),label:"3E"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.threeAnd,a),onChange:E,name:"threeAnd"}),label:"3&"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.threeA,a),onChange:E,name:"threeA"}),label:"3A"}))),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(re.a,{component:"legend"}),r.a.createElement(Ee.a,null,r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.four,a),onChange:E,name:"four"}),label:"4"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.fourE,a),onChange:E,name:"fourE"}),label:"4E"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.fourAnd,a),onChange:E,name:"fourAnd"}),label:"4&"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:g(t,O.fourA,a),onChange:E,name:"fourA"}),label:"4A"}))))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){f(!0)}},"Help"),r.a.createElement(se.a,{open:h,onClose:function(e){f(!1)}},r.a.createElement("div",{style:v,className:b.paper},r.a.createElement("h2",null,"Hit Placement Description"),r.a.createElement("p",null,c),r.a.createElement("h2",null,"Musical Notation Help"),r.a.createElement("p",null,i)))))}var ye=function(){function e(t,n){Object(h.a)(this,e),this.context=void 0,this.buffer=void 0,this.source=void 0,this.gain=void 0,this.context=t,this.buffer=n,this.source=this.context.createBufferSource(),this.gain=t.createGain()}return Object(x.a)(e,[{key:"setup",value:function(){this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gain),this.gain.connect(this.context.destination)}},{key:"trigger",value:function(e,t){this.setup(),this.gain.gain.setValueAtTime(t,e),this.source.start(e),this.gain.gain.setValueAtTime(1,e+.1)}}]),e}();var Ce=function(){var e=Object(o.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(),i=Object(d.a)(c,2),h=i[0],f=i[1],v=Object(o.useState)(1),b=Object(d.a)(v,2),E=b[0],k=b[1],y=Object(o.useState)(new J(new Q("New Exercise: ".concat(E)))),C=Object(d.a)(y,2),w=C[0],x=C[1],S=Object(o.useState)(0),A=Object(d.a)(S,2),j=A[0],O=A[1],T=Object(o.useState)(!1),P=Object(d.a)(T,2),H=P[0],M=P[1],K=r.a.useState((function(){var e=50+Je(),t=50+Je();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}})),L=Object(d.a)(K,1)[0],D=Object(o.useState)(!1),B=Object(d.a)(D,2),z=B[0],F=B[1],Y=Object(o.useState)(!1),V=Object(d.a)(Y,2),U=V[0],W=V[1],q=Object(o.useState)("kick"),Ee=Object(d.a)(q,2),Ce=Ee[0],we=Ee[1],Ne=Object(o.useState)("kick"),xe=Object(d.a)(Ne,2),Se=xe[0],Ae=xe[1],je=Object(o.useState)("kick"),Oe=Object(d.a)(je,2),Te=Oe[0],Pe=Oe[1],Re=Object(o.useState)("Exercise ".concat(E)),Ie=Object(d.a)(Re,2),He=Ie[0],Me=Ie[1],Ke=Object(o.useState)([]),Le=Object(d.a)(Ke,2),De=Le[0],Be=Le[1],ze=Object(o.useState)(!0),Fe=Object(d.a)(ze,2),Ye=Fe[0],Ve=Fe[1],Ue=function(e){var t=60/e.bpm/4,n=new AudioContext,a=function(e,t,n){var a=new XMLHttpRequest;a.open("get",e,!0),a.responseType="arraybuffer",a.onload=function(){t.decodeAudioData(a.response,(function(e){n(e)}))},a.withCredentials=!1,a.send()},o=-1!==e.measures[0].notes.findIndex((function(e){return e.accent===p.accented}));a("snare.wav",n,(function(r){var c=new ye(n,r);a("hihat.wav",n,(function(r){var i=new ye(n,r);a("kick1.wav",n,(function(a){var r=new ye(n,a);null!=e&&e.measures[0].notes.forEach((function(e,a){if(e.noteType===g.snare){var s=o?.5:1,l=e.accent===p.accented?2:s;c.trigger(n.currentTime+t*a,l)}else e.noteType===g.kick&&r.trigger(n.currentTime+t*a,1);a%2===0&&Ye&&i.trigger(n.currentTime+t*a,1)}))}))}))}))};Object(o.useEffect)((function(){w.header.title=He;var e=Object(u.a)(Object(u.a)({},w),{},{header:w.header});x(e)}),[He]),Object(o.useEffect)((function(){var e=[];R.configIsValid(w,e),Be(e)}),[w]);var We=Object(ce.a)((function(e){return Object(ie.a)({root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},formControl:{margin:e.spacing(1),minWidth:120},cardRoot:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},toolTip:{fontSize:20},paper:{position:"absolute",width:"60%",height:"60%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}))();function qe(e){var t=e.children,n=e.value,a=e.index,o=Object(s.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},o),n===a&&r.a.createElement(ue.a,{p:3},r.a.createElement(de.a,null,t)))}function Ge(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Je(){return Math.round(20*Math.random())-10}return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},"Random Drum Pattern Generator",r.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(e){W(!0)}},"What is this?"),r.a.createElement(se.a,{open:U,onClose:function(e){W(!1)}},r.a.createElement("div",{style:L,className:We.paper},r.a.createElement("h2",null,"What is this page and why does it exist?"),r.a.createElement("p",null,"This is a website I created to generate random drum patterns using Typescript. \nThe primary purpose was to give myself ideas for patterns to practice on the drums and to spur a bit of\ncreativity on days I'm feeling uninspired. This page will generate a random drum pattern in musical notation (for those unfamiliar\nwith drum notation, the bottom row represents the Kick or Bass drum, and the middle row represents the Snare Drum. The funky\nsquiggles represent rests (no drum is hit at that time). This page allows the user to put constraints on the patterns generated to allow\nfor incorporation of general ideas. For example, many modern drum beats incorporate a \"Backbeat\", which is characterized by snare\nhits on the 2 and 4 of a measure in 4/4 time. This page allows you to add that constraint to the patterns generated so that\nevery pattern will include a backbeat. I've also included a playback option to all the patterns generated so that you can hear \nwhat it sounds like. Adjusting the BPM (Beats Per Minute) will allow you to adjust the playback speed. Higher is faster.\nFor simplicity's sake, this page only supports linear drum patterns (drum patterns with only one \ndrum being hit at a time). However, I decided to add a toggle that will playback a hi-hat on the 8th notes to allow your \npatterns to sound like they have a bit more of a non-linear \"Drum Beat\" sound to them. You can save your current drum pattern,\nso that you can continue to look at it and play it back. However, I haven't implemented any type of local storage yet, so your\npatterns will disappear when you refresh the page. I recommend experimenting with generating\nbeats and messing around with the constraints and playback if this description seems unclear. Happy Drumming!\n")))),r.a.createElement(X.a,{className:We.cardRoot},n&&n.length>0&&r.a.createElement($.a,{title:"Saved Exercises"}),r.a.createElement(Z.a,null,n.map((function(e){return r.a.createElement(X.a,{className:We.cardRoot},r.a.createElement(Z.a,null,r.a.createElement("div",null,r.a.createElement(m.a,{abcNotation:e.sheetMusic,parserParams:{},engraverParams:{responsive:"resize"},renderParams:{viewportHorizontal:!0}}),r.a.createElement(be.a,{variant:"contained",color:"secondary",onClick:function(){var t=n.indexOf(e),o=Object(l.a)(n);o.splice(t,1),a(o)}},"Delete"),r.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){Ue(e)}},"Play"))))})))),r.a.createElement(X.a,{className:We.cardRoot},r.a.createElement($.a,{title:"Unsaved (Current) Exercise"}),h&&r.a.createElement(Z.a,null,r.a.createElement(m.a,{abcNotation:h.sheetMusic,parserParams:{},engraverParams:{responsive:"resize"},renderParams:{viewportHorizontal:!0}}),r.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){Ue(h)}},"PLAY"),r.a.createElement(me.a,{style:{marginLeft:"18px"},value:h.bpm,onChange:function(e){if(h){var t=Object(u.a)(Object(u.a)({},h),{},{bpm:parseInt(e.target.value),measures:h.measures});f(t)}},id:"standard-basic",label:"BPM of Playback"}),r.a.createElement(ae.a,{control:r.a.createElement(oe.a,{checked:Ye,onChange:function(e){Ve(e.target.checked)},name:"oneAnd"}),label:"Enable Hi-Hat on playback?"}))),r.a.createElement(X.a,{className:We.cardRoot},r.a.createElement(Z.a,null,r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(re.a,{component:"legend"},"Generation Controls"),r.a.createElement(me.a,{value:He,onChange:function(e){Me(e.target.value)},id:"standard-basic",label:"Pattern Name"}),r.a.createElement(he.a,null,r.a.createElement(fe.a,{title:r.a.createElement("span",{style:{fontSize:"18px"}},De)},r.a.createElement("span",{style:{cursor:"not-allowed"}},r.a.createElement(be.a,{disabled:De.length>0,variant:"contained",onClick:function(){var e=G.generateNewSheetMusic(w);if(Array.isArray(e))Be(e);else{var t=e.abcjsString,n=e.measures,a=new N(t,n);f(a)}}},"Generate Measure"))),r.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){h&&(a([].concat(Object(l.a)(n),[h])),k(E+1),Me("Exercise ".concat(E+1)),f(null))}},"Save"),r.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){f(null)}},"Remove"),r.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(e){M(!0)}},"Configure"),r.a.createElement(se.a,{open:H,onClose:function(e){M(!1)}},r.a.createElement("div",{style:L,className:We.paper},r.a.createElement(pe.a,null,r.a.createElement(ve.a,{value:j,onChange:function(e,t){O(t)},"aria-label":"configuration"},r.a.createElement(ge.a,Object.assign({label:"Consecutive Notes"},Ge(0))),r.a.createElement(ge.a,Object.assign({label:"Total Number of Notes"},Ge(1))),r.a.createElement(ge.a,Object.assign({label:"Hit Placement"},Ge(2))),r.a.createElement(ge.a,Object.assign({label:"Sticking Style"},Ge(3))))),r.a.createElement(qe,{value:j,index:0},r.a.createElement(le,{mode:"consecutive",selection:Ce,title:"Specify Maximum Consecutive Notes For A Drum Sound",setSelection:we,config:w,description:'Specifies the maximum number of a particular sound that can be played in a row.\nFor example, specifying "2 Kicks" will disable any pattern containing 3 or more consecutive kick drum notes from being generated.\nThis will not allow a pattern to be generated if it conflicts with what you have specified in the "Hit Placement" section (i.e. \nyou have specified "2 Kicks" as your maximum consecutive note count, and have also\ntoggled on the kick to appear on beats 1, 1E, 1&). This will not allow a pattern to be generated if it conflicts\nwith the "Total Number of Notes" section (i.e. You have 16 kicks, which is every single note in the measure, selected as the\nTotal Number of Notes but have less than 16 as the maximum number of consecutive kicks)',setConfig:x})),r.a.createElement(qe,{value:j,index:1},r.a.createElement(le,{mode:"noteCount",selection:Se,title:"Specify Exact Note Count For A Drum Sound",setSelection:Ae,config:w,description:'Specifies the exact number of a particular sound that will appear in the generated\npattern. For example, specifying "5 Kicks" will disable any pattern containing 4 or less, as well as 6 or more total kick drums.\nThis setting can be disabled with a toggle switch, meaning the selected value is ignored if the switch is set to "off". This\nwill not allow a pattern to be generated if it conflicts with what you have specified in the "Hit Placement" section (i.e. you\nhave specified "2 kicks" as your Total Number of Notes, and have also toggled on the kick to appear on beats 2, 3, 4). This\nwill not allow a pattern to be generated if it conflicts with what you have specified in the Consecutive Notes section (i. e.\nYou have 16 kicks, which is every single note in the measure, selected as the Total Number of Notes but have less than 16 as the \nmaximum number of consecutive kicks)',setConfig:x})),r.a.createElement(qe,{value:j,index:2},r.a.createElement(ke,{selection:Te,title:"Specify Mandatory Note Placements For A Drum Sound",description:'Adds a constraint that a specified drum hit must occur in the given\nlocation in the measure. The measure is represented as sixteen note placements, each represented with a slide toggle. \nThe patterns in this application are linear, so two drums cannot be hit at the same time. For example, You cannot place a kick and snare at the same time.\nThe exception to this rule is an accent, because an accent is a modifier to make another drum sound louder. \nYou may place an accent at the same time as other type, but it will currently only display for a snare hit. You will be\nunable to generate your pattern if you specify more total notes in this section than are allowed in the "Total Number of Notes"\nsection, and you will be unable to generate your pattern if you specify more consecutive notes than are allowed in the \n"Consecutive Notes" section.',help:'In case you are unfamiliar with musical notation, in 4/4 time (only currently supported time signature) a measure is divided into 4\nequal sections, or "beats". Each beat is further subdivided into 4 equal sections: Beat#, E, AND(&), A. Each division of the\nbeat is counted before moving on to the next beat. That would mean that "1" is the 1st location, "1A" is the 4th, "3" is the 9th, etc.\nThis application only supports subdivisions that can be represented as 16th notes (note: even \nsubdivisions longer than 16th notes are supported because you cannot hold a note on a drum, \nso a quarter note is represented as a sixteenth note followed by three 16th note rests).',setSelection:Pe,config:w,setConfig:x})),r.a.createElement(qe,{value:j,index:3},r.a.createElement("div",null,r.a.createElement(X.a,{style:{display:"flex",marginTop:"50px",justifyContent:"center",flexDirection:"column"}},r.a.createElement($.a,{title:"Specify A Sticking Type"}),r.a.createElement(Z.a,null,r.a.createElement(_.a,{className:We.formControl},r.a.createElement(ee.a,{id:"demo-simple-select-label"},"Sticking Pattern"),r.a.createElement(te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I[w.stickingStyle],onChange:function(e){w.stickingStyle=parseInt(I[e.target.value]);var t=Object(u.a)(Object(u.a)({},w),{},{header:w.header});x(t)}},r.a.createElement(ne.a,{value:"none"},"None"),r.a.createElement(ne.a,{value:"naturalSticking"},"Natural"),r.a.createElement(ne.a,{value:"alternating"},"Alternating"),r.a.createElement(ne.a,{value:"random"},"Random"))))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){F(!0)}},"Help"),r.a.createElement(se.a,{open:z,onClose:function(e){F(!1)}},r.a.createElement("div",{style:L,className:We.paper},r.a.createElement("h2",null,"Sticking Type Description"),r.a.createElement("p",null,"More of a usage for drummers working on hand exercises, there is an option to allow for\nthe generated pattern to specify if a snare hit should be performed with the left hand or the right hand. None means that\nno hand suggestion is provided. Alternate sticking means that every snare hit should alternate between right and left, \nregardless of what is in the middle. Natural sticking means that every snare hit should be the right hand if it is in an\nodd location in the measure (beats and &'s) while the left hand should be used for even locations in the measure (E's and A's)\nFinally, random will fill in the values randomly, and will follow the rules you specify for each hand in the Consecutive Notes section")))))))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[110,1,2]]]);
//# sourceMappingURL=main.8ab97bc1.chunk.js.map